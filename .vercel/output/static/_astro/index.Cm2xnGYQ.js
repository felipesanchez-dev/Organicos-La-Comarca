import{b as D,t as P,c as V,i as H,n as W,d as Y,e as y,f as F,g as N,h as $,j as I}from"./index.D_RYY94p.js";import{f as O,r as v,w as g,E as j,G as q,o as B,H as Q}from"./index.PXxL51Wy.js";function b(e){var n;const t=y(e);return(n=t?.$el)!=null?n:t}const E=H?window:void 0,R=H?window.navigator:void 0;function A(...e){let n,t,a,i;if(typeof e[0]=="string"||Array.isArray(e[0])?([t,a,i]=e,n=E):[n,t,a,i]=e,!n)return W;Array.isArray(t)||(t=[t]),Array.isArray(a)||(a=[a]);const o=[],s=()=>{o.forEach(c=>c()),o.length=0},r=(c,d,p,h)=>(c.addEventListener(d,p,h),()=>c.removeEventListener(d,p,h)),l=g(()=>[b(n),y(i)],([c,d])=>{if(s(),!c)return;const p=Y(d)?{...d}:d;o.push(...t.flatMap(h=>a.map(m=>r(c,h,m,p))))},{immediate:!0,flush:"post"}),u=()=>{l(),s()};return I(u),u}function X(){const e=v(!1),n=Q();return n&&B(()=>{e.value=!0},n),e}function x(e){const n=X();return O(()=>(n.value,!!e()))}function G(e,n={}){const{window:t=E}=n,a=x(()=>t&&"matchMedia"in t&&typeof t.matchMedia=="function");let i;const o=v(!1),s=u=>{o.value=u.matches},r=()=>{i&&("removeEventListener"in i?i.removeEventListener("change",s):i.removeListener(s))},l=j(()=>{a.value&&(r(),i=t.matchMedia(y(e)),"addEventListener"in i?i.addEventListener("change",s):i.addListener(s),o.value=i.matches)});return I(()=>{l(),r(),i=void 0}),o}function z(e,n={}){const{controls:t=!1,navigator:a=R}=n,i=x(()=>a&&"permissions"in a);let o;const s=typeof e=="string"?{name:e}:e,r=v(),l=()=>{o&&(r.value=o.state)},u=$(async()=>{if(i.value){if(!o)try{o=await a.permissions.query(s),A(o,"change",l),l()}catch{r.value="prompt"}return o}});return u(),t?{state:r,isSupported:i,query:u}:r}function te(e={}){const{navigator:n=R,read:t=!1,source:a,copiedDuring:i=1500,legacy:o=!1}=e,s=x(()=>n&&"clipboard"in n),r=z("clipboard-read"),l=z("clipboard-write"),u=O(()=>s.value||o),c=v(""),d=v(!1),p=D(()=>d.value=!1,i);function h(){s.value&&S(r.value)?n.clipboard.readText().then(f=>{c.value=f}):c.value=T()}u.value&&t&&A(["copy","cut"],h);async function m(f=y(a)){u.value&&f!=null&&(s.value&&S(l.value)?await n.clipboard.writeText(f):M(f),c.value=f,d.value=!0,p.start())}function M(f){const w=document.createElement("textarea");w.value=f??"",w.style.position="absolute",w.style.opacity="0",document.body.appendChild(w),w.select(),document.execCommand("copy"),w.remove()}function T(){var f,w,C;return(C=(w=(f=document?.getSelection)==null?void 0:f.call(document))==null?void 0:w.toString())!=null?C:""}function S(f){return f==="granted"||f==="prompt"}return{isSupported:u,text:c,copied:d,copy:m}}function J(e,n,t={}){const{window:a=E,...i}=t;let o;const s=x(()=>a&&"ResizeObserver"in a),r=()=>{o&&(o.disconnect(),o=void 0)},l=O(()=>Array.isArray(e)?e.map(d=>b(d)):[b(e)]),u=g(l,d=>{if(r(),s.value&&a){o=new ResizeObserver(n);for(const p of d)p&&o.observe(p,i)}},{immediate:!0,flush:"post"}),c=()=>{r(),u()};return I(c),{isSupported:s,stop:c}}function K(e,n,t={}){const{root:a,rootMargin:i="0px",threshold:o=.1,window:s=E,immediate:r=!0}=t,l=x(()=>s&&"IntersectionObserver"in s),u=O(()=>{const m=y(e);return(Array.isArray(m)?m:[m]).map(b).filter(F)});let c=W;const d=v(r),p=l.value?g(()=>[u.value,b(a),d.value],([m,M])=>{if(c(),!d.value||!m.length)return;const T=new IntersectionObserver(n,{root:b(M),rootMargin:i,threshold:o});m.forEach(S=>S&&T.observe(S)),c=()=>{T.disconnect(),c=W}},{immediate:r,flush:"post"}):W,h=()=>{c(),p(),d.value=!1};return I(h),{isSupported:l,isActive:d,pause(){c(),d.value=!1},resume(){d.value=!0},stop:h}}function ne(e,n={}){const{window:t=E,scrollTarget:a,threshold:i=0}=n,o=v(!1);return K(e,s=>{let r=o.value,l=0;for(const u of s)u.time>=l&&(l=u.time,r=u.isIntersecting);o.value=r},{root:a,window:t,threshold:i}),o}function L(e){return typeof Window<"u"&&e instanceof Window?e.document.documentElement:typeof Document<"u"&&e instanceof Document?e.documentElement:e}function k(e){const n=window.getComputedStyle(e);if(n.overflowX==="scroll"||n.overflowY==="scroll"||n.overflowX==="auto"&&e.clientWidth<e.scrollWidth||n.overflowY==="auto"&&e.clientHeight<e.scrollHeight)return!0;{const t=e.parentNode;return!t||t.tagName==="BODY"?!1:k(t)}}function U(e){const n=e||window.event,t=n.target;return k(t)?!1:n.touches.length>1?!0:(n.preventDefault&&n.preventDefault(),!1)}const _=new WeakMap;function re(e,n=!1){const t=v(n);let a=null,i="";g(P(e),r=>{const l=L(y(r));if(l){const u=l;if(_.get(u)||_.set(u,u.style.overflow),u.style.overflow!=="hidden"&&(i=u.style.overflow),u.style.overflow==="hidden")return t.value=!0;if(t.value)return u.style.overflow="hidden"}},{immediate:!0});const o=()=>{const r=L(y(e));!r||t.value||(N&&(a=A(r,"touchmove",l=>{U(l)},{passive:!1})),r.style.overflow="hidden",t.value=!0)},s=()=>{const r=L(y(e));!r||!t.value||(N&&a?.(),r.style.overflow=i,_.delete(r),t.value=!1)};return I(s),O({get(){return t.value},set(r){r?o():s()}})}function oe(e){var n;const t=v(e?.element),a=v(e?.input),i=(n=e?.styleProp)!=null?n:"height",o=v(1);function s(){var r;if(!t.value)return;let l="";t.value.style[i]="1px",o.value=(r=t.value)==null?void 0:r.scrollHeight,e?.styleTarget?y(e.styleTarget).style[i]=`${o.value}px`:l=`${o.value}px`,t.value.style[i]=l}return g([a,t],()=>q(s),{immediate:!0}),g(o,()=>{var r;return(r=e?.onResize)==null?void 0:r.call(e)}),J(t,()=>s()),e?.watch&&g(e.watch,s,{immediate:!0,deep:!0}),{textarea:t,input:a,triggerResize:s}}function ie(e={}){const{window:n=E,initialWidth:t=Number.POSITIVE_INFINITY,initialHeight:a=Number.POSITIVE_INFINITY,listenOrientation:i=!0,includeScrollbar:o=!0}=e,s=v(t),r=v(a),l=()=>{n&&(o?(s.value=n.innerWidth,r.value=n.innerHeight):(s.value=n.document.documentElement.clientWidth,r.value=n.document.documentElement.clientHeight))};if(l(),V(l),A("resize",l,{passive:!0}),i){const u=G("(orientation: portrait)");g(u,()=>l())}return{width:s,height:r}}export{oe as a,ne as b,te as c,re as d,ie as u};
