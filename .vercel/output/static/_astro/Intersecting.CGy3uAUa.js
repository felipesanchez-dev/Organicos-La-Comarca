import{f as h,r as p,w as _,o as W,H as C,j as N,a as V,c as B,d as j,e as x,u as H}from"./index.PXxL51Wy.js";import{k as Y,e as w,f as X,n as y,t as $,i as z,g as M,d as P,j as S}from"./index.D_RYY94p.js";import{_ as R}from"./_plugin-vue_export-helper.DlAUqK2U.js";function g(e){var t;const n=w(e);return(t=n?.$el)!=null?t:n}const A=z?window:void 0;function T(...e){let t,n,r,s;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,r,s]=e,t=A):[t,n,r,s]=e,!t)return y;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const i=[],f=()=>{i.forEach(a=>a()),i.length=0},o=(a,l,m,d)=>(a.addEventListener(l,m,d),()=>a.removeEventListener(l,m,d)),u=_(()=>[g(t),w(s)],([a,l])=>{if(f(),!a)return;const m=P(l)?{...l}:l;i.push(...n.flatMap(d=>r.map(v=>o(a,d,v,m))))},{immediate:!0,flush:"post"}),c=()=>{u(),f()};return S(c),c}function q(){const e=p(!1),t=C();return t&&W(()=>{e.value=!0},t),e}function F(e){const t=q();return h(()=>(t.value,!!e()))}function E(e,t,n={}){const{root:r,rootMargin:s="0px",threshold:i=.1,window:f=A,immediate:o=!0}=n,u=F(()=>f&&"IntersectionObserver"in f),c=h(()=>{const v=w(e);return(Array.isArray(v)?v:[v]).map(g).filter(X)});let a=y;const l=p(o),m=u.value?_(()=>[c.value,g(r),l.value],([v,L])=>{if(a(),!l.value||!v.length)return;const k=new IntersectionObserver(t,{root:g(L),rootMargin:s,threshold:i});v.forEach(I=>I&&k.observe(I)),a=()=>{k.disconnect(),a=y}},{immediate:o,flush:"post"}):y,d=()=>{a(),m(),l.value=!1};return S(d),{isSupported:u,isActive:l,pause(){a(),l.value=!1},resume(){l.value=!0},stop:d}}function O(e){return typeof Window<"u"&&e instanceof Window?e.document.documentElement:typeof Document<"u"&&e instanceof Document?e.documentElement:e}const G={[Y.mounted](e,t){typeof t.value=="function"?E(e,t.value):E(e,...t.value)}};function D(e){const t=window.getComputedStyle(e);if(t.overflowX==="scroll"||t.overflowY==="scroll"||t.overflowX==="auto"&&e.clientWidth<e.scrollWidth||t.overflowY==="auto"&&e.clientHeight<e.scrollHeight)return!0;{const n=e.parentNode;return!n||n.tagName==="BODY"?!1:D(n)}}function J(e){const t=e||window.event,n=t.target;return D(n)?!1:t.touches.length>1?!0:(t.preventDefault&&t.preventDefault(),!1)}const b=new WeakMap;function K(e,t=!1){const n=p(t);let r=null,s="";_($(e),o=>{const u=O(w(o));if(u){const c=u;if(b.get(c)||b.set(c,c.style.overflow),c.style.overflow!=="hidden"&&(s=c.style.overflow),c.style.overflow==="hidden")return n.value=!0;if(n.value)return c.style.overflow="hidden"}},{immediate:!0});const i=()=>{const o=O(w(e));!o||n.value||(M&&(r=T(o,"touchmove",u=>{J(u)},{passive:!1})),o.style.overflow="hidden",n.value=!0)},f=()=>{const o=O(w(e));!o||!n.value||(M&&r?.(),o.style.overflow=s,b.delete(o),n.value=!1)};return S(f),h({get(){return n.value},set(o){o?i():f()}})}function Q(){let e=!1;const t=p(!1);return(n,r)=>{if(t.value=r.value,e)return;e=!0;const s=K(n,r.value);_(t,i=>s.value=i)}}Q();const U="10%",Z={__name:"Intersecting",props:{className:String,noSsr:Boolean},setup(e,{expose:t}){t();const n=p(!1),r=p(!1);function s([{isIntersecting:u}]){n.value=u,u&&(r.value=!0)}const i=e,f=h(()=>!(i?.noSsr&&!r.value)),o={isVisible:n,rootMargin:U,firstVisible:r,onIntersectionObserver:s,props:i,show:f,ref:p,computed:h,get vIntersectionObserver(){return G}};return Object.defineProperty(o,"__isScriptSetup",{enumerable:!1,value:!0}),o}};function ee(e,t,n,r,s,i){return N((V(),B("div",{class:H(`${n.className||""} ${r.isVisible?"in-screen":"out-of-screen"} ${r.firstVisible?"is-active":"is-inactive"}`)},[r.show?j(e.$slots,"default",{key:0}):x("",!0)],2)),[[r.vIntersectionObserver,[r.onIntersectionObserver,{rootMargin:r.rootMargin}]]])}const oe=R(Z,[["render",ee]]);export{oe as default};
