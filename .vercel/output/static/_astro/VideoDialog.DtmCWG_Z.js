import{r as f,o as v,w as y,a as S,g as k,h as P,T as E,j as V,v as B,b as u,k as C,d as x}from"./index.PXxL51Wy.js";/* empty css                        */import{b as m}from"./store.D9UzEAUg.js";import{d as _,e as w}from"./bodyScrollLock.esm.CT-oBNdc.js";import{_ as $}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{u as h}from"./index.CxR5AyqT.js";const N="modulepreload",D=function(l){return"/"+l},b={},L=function(i,r,a){let d=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),o=e?.nonce||e?.getAttribute("nonce");d=Promise.all(r.map(t=>{if(t=D(t),t in b)return;b[t]=!0;const c=t.endsWith(".css"),p=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${t}"]${p}`))return;const n=document.createElement("link");if(n.rel=c?"stylesheet":N,c||(n.as="script",n.crossOrigin=""),n.href=t,o&&n.setAttribute("nonce",o),document.head.appendChild(n),c)return new Promise((s,g)=>{n.addEventListener("load",s),n.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${t}`)))})}))}return d.then(()=>i()).catch(e=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=e,window.dispatchEvent(o),!o.defaultPrevented)throw e})},T={__name:"VideoDialog",props:{video_id:{type:String},embed:{type:String},className:{type:String}},setup(l,{expose:i}){i();const r=h(m),a=l,d=f(null),e=f(null),o=f(!1);let t;v(async()=>{});const c=()=>{m.set({id:r.value.id,show:!1}),e.value&&e.value.pause()},p=async()=>{t||(t=(await L(async()=>{const{default:s}=await import("./plyr.min.DTjjHomp.js");return{default:s}},[])).default),e.value?e.value.play():(o.value=!0,e.value=new t(d.value,{playsinline:0,settings:["loop"],iconUrl:"/icons/plyr.svg",controls:["play","progress","current-time","mute","volume","airplay","fullscreen"],youtube:{origin:window.location.host,iv_load_policy:3,modestbranding:1,showinfo:0,rel:0,enablejsapi:1,noCookie:!0}}),e.value.on("ready",function(s){e.value.play(),o.value=!1}))};y(r,s=>{s.show&&s.id===a.video_id&&(p(),_(document.body)),!s.show&&s.id===a.video_id&&w(document.body)},{immediate:!0});const n={$show:r,props:a,container:d,videoPlayer:e,loading:o,get Plyr(){return t},set Plyr(s){t=s},pauseVideo:c,playVideo:p,ref:f,watch:y,onMounted:v,get useStore(){return h},get showVideo(){return m},get disableBodyScroll(){return _},get enableBodyScroll(){return w}};return Object.defineProperty(n,"__isScriptSetup",{enumerable:!1,value:!0}),n}},U={class:"overflow-hidden rounded shadow-xl"},j=["data-plyr-provider","data-plyr-embed-id"];function A(l,i,r,a,d,e){return S(),k(E,{name:"fade"},{default:P(()=>[V(u("div",{class:"bg-dark-blur z-1000 pointer-events-auto fixed inset-0 grid w-full cursor-pointer place-items-center",onClick:i[2]||(i[2]=o=>a.pauseVideo())},[u("div",{onClick:i[1]||(i[1]=C(()=>{},["stop"])),class:"container-md relative"},[u("div",U,[u("div",{class:"w-full",ref:"container","data-plyr-provider":r.embed,"data-plyr-embed-id":r.video_id},null,8,j)]),u("button",{class:"btn btn-icon surface-dark btn-absolute -right-1 -top-1 z-10 grid h-10 w-10 place-items-center",onClick:i[0]||(i[0]=o=>a.pauseVideo())},[x(l.$slots,"default")])])],512),[[B,a.$show.show&&a.$show.id===r.video_id]])]),_:3})}const W=$(T,[["render",A]]);export{W as default};
